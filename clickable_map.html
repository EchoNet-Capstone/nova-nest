<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe srcdoc="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    
    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
    &lt;script&gt;// Function to attach click events to markers
function attachMarkerEvents(mapInstance) {
    console.log(&quot;✅ Attaching marker click events...&quot;);
    if (!mapInstance) {
        console.error(&quot;❌ ERROR: Map instance is undefined.&quot;);
        return;
    }

    let markerCount = 0;
    mapInstance.eachLayer(function(layer) {
        if (layer instanceof L.Marker) {
            markerCount++;
            console.log(&quot;✅ Marker found:&quot;, layer);
            layer.on(&quot;click&quot;, function() {
                if (layer.getPopup()) {
                    let popupContent = layer.getPopup().getContent();
                    let contentText = &quot;&quot;;
                    if (typeof popupContent === &quot;string&quot;) {
                        contentText = popupContent;
                    } else if (popupContent instanceof HTMLElement) {
                        contentText = popupContent.innerText;
                    } else {
                        contentText = String(popupContent);
                    }
                    console.log(&quot;Popup Content:&quot;, contentText);
                    let match = contentText.match(/Buoy ID:\s*(\d+)/);
                    if (match) {
                        let buoyId = match[1];
                        console.log(&quot;markerClicked:&quot; + buoyId);
                        alert(&quot;Buoy Clicked: &quot; + buoyId);
                    }
                }
            });
        }
    });
    console.log(&quot;✅ Total Markers Found:&quot;, markerCount);
}

// Optionally, if you need to run attachMarkerEvents without waiting for QWebChannel (for debugging)
document.addEventListener(&quot;readystatechange&quot;, function () {
    if (document.readyState === &quot;complete&quot;) {
        attachMarkerEvents(map_b60e036bc19c5b36805168e64db0b72d);
    }
});&lt;/script&gt;
    
        &lt;script&gt;
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        &lt;/script&gt;
    
    &lt;style&gt;html, body {width: 100%;height: 100%;margin: 0;padding: 0;}&lt;/style&gt;
    &lt;style&gt;#map {position:absolute;top:0;bottom:0;right:0;left:0;}&lt;/style&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;
    
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;
            &lt;style&gt;
                #map_b60e036bc19c5b36805168e64db0b72d {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            &lt;/style&gt;
        
    &lt;script src=&quot;https://cdn.jsdelivr.net/gh/ardhi/Leaflet.MousePosition/src/L.Control.MousePosition.min.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/ardhi/Leaflet.MousePosition/src/L.Control.MousePosition.min.css&quot;/&gt;
&lt;/head&gt;
&lt;body&gt;
    
    
            &lt;div class=&quot;folium-map&quot; id=&quot;map_b60e036bc19c5b36805168e64db0b72d&quot; &gt;&lt;/div&gt;
        
&lt;/body&gt;
&lt;script&gt;
    
    
            var map_b60e036bc19c5b36805168e64db0b72d = L.map(
                &quot;map_b60e036bc19c5b36805168e64db0b72d&quot;,
                {
                    center: [0.0, 0.0],
                    crs: L.CRS.EPSG3857,
                    ...{
  &quot;zoom&quot;: 2,
  &quot;zoomControl&quot;: true,
  &quot;preferCanvas&quot;: false,
}

                }
            );

            

        
    
            var tile_layer_2d34775d4d25be0d1eefc23148fba5df = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {
  &quot;minZoom&quot;: 0,
  &quot;maxZoom&quot;: 19,
  &quot;maxNativeZoom&quot;: 19,
  &quot;noWrap&quot;: false,
  &quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;,
  &quot;subdomains&quot;: &quot;abc&quot;,
  &quot;detectRetina&quot;: false,
  &quot;tms&quot;: false,
  &quot;opacity&quot;: 1,
}

            );
        
    
            tile_layer_2d34775d4d25be0d1eefc23148fba5df.addTo(map_b60e036bc19c5b36805168e64db0b72d);
        
    
            var tile_layer_25f3aa9a4f3473b2835a2dba4661f322 = L.tileLayer(
                &quot;https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png&quot;,
                {
  &quot;minZoom&quot;: 0,
  &quot;maxZoom&quot;: 18,
  &quot;maxNativeZoom&quot;: 18,
  &quot;noWrap&quot;: false,
  &quot;attribution&quot;: &quot;Map data: \u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors, \u003ca href=\&quot;http://viewfinderpanoramas.org\&quot;\u003eSRTM\u003c/a\u003e | Map style: \u0026copy; \u003ca href=\&quot;https://opentopomap.org\&quot;\u003eOpenTopoMap\u003c/a\u003e (\u003ca href=\&quot;https://creativecommons.org/licenses/by-sa/3.0/\&quot;\u003eCC-BY-SA\u003c/a\u003e)&quot;,
  &quot;subdomains&quot;: &quot;abc&quot;,
  &quot;detectRetina&quot;: false,
  &quot;tms&quot;: false,
  &quot;opacity&quot;: 1,
}

            );
        
    
            tile_layer_25f3aa9a4f3473b2835a2dba4661f322.addTo(map_b60e036bc19c5b36805168e64db0b72d);
        
    
            var mouse_position_83230910d1d151ec92237636846d4a2c = new L.Control.MousePosition(
                {
  &quot;position&quot;: &quot;bottomright&quot;,
  &quot;separator&quot;: &quot;, &quot;,
  &quot;emptyString&quot;: &quot;Unavailable&quot;,
  &quot;lngFirst&quot;: false,
  &quot;numDigits&quot;: 5,
  &quot;prefix&quot;: &quot;Coordinates:&quot;,
}
            );
            mouse_position_83230910d1d151ec92237636846d4a2c.options[&quot;latFormatter&quot;] =
                undefined;
            mouse_position_83230910d1d151ec92237636846d4a2c.options[&quot;lngFormatter&quot;] =
                undefined;
            map_b60e036bc19c5b36805168e64db0b72d.addControl(mouse_position_83230910d1d151ec92237636846d4a2c);
        
    
            var marker_0b38ea52c391c3eb64ba63e10530b10b = L.marker(
                [42.3601, -71.0589],
                {
}
            ).addTo(map_b60e036bc19c5b36805168e64db0b72d);
        
    
        var popup_93dc1e3b844a690ae9ef46fb30afcf52 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_b27286adc2b4633f1839fe220ddc396d = $(`&lt;div id=&quot;html_b27286adc2b4633f1839fe220ddc396d&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Buoy ID: 1&lt;br&gt;Battery: 95&lt;br&gt;Drop Time: 2025-02-19 12:30:00+00:00&lt;/div&gt;`)[0];
                popup_93dc1e3b844a690ae9ef46fb30afcf52.setContent(html_b27286adc2b4633f1839fe220ddc396d);
            
        

        marker_0b38ea52c391c3eb64ba63e10530b10b.bindPopup(popup_93dc1e3b844a690ae9ef46fb30afcf52)
        ;

        
    
    
            marker_0b38ea52c391c3eb64ba63e10530b10b.bindTooltip(
                `&lt;div&gt;
                     Click for details
                 &lt;/div&gt;`,
                {
  &quot;sticky&quot;: true,
}
            );
        
    
            var marker_2d2331e991da42ae31d92b64c3f58115 = L.marker(
                [40.7128, -74.006],
                {
}
            ).addTo(map_b60e036bc19c5b36805168e64db0b72d);
        
    
        var popup_e7e47c74bf29bfaf462a0125b61f3a4c = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_50bfb8d3f2255d0f56893129a1093945 = $(`&lt;div id=&quot;html_50bfb8d3f2255d0f56893129a1093945&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Buoy ID: 2&lt;br&gt;Battery: 80&lt;br&gt;Drop Time: 2025-02-18 11:00:00+00:00&lt;/div&gt;`)[0];
                popup_e7e47c74bf29bfaf462a0125b61f3a4c.setContent(html_50bfb8d3f2255d0f56893129a1093945);
            
        

        marker_2d2331e991da42ae31d92b64c3f58115.bindPopup(popup_e7e47c74bf29bfaf462a0125b61f3a4c)
        ;

        
    
    
            marker_2d2331e991da42ae31d92b64c3f58115.bindTooltip(
                `&lt;div&gt;
                     Click for details
                 &lt;/div&gt;`,
                {
  &quot;sticky&quot;: true,
}
            );
        
    
            var marker_5938ca93d3f8ad3843aeb6ba472e75a2 = L.marker(
                [34.0522, -118.2437],
                {
}
            ).addTo(map_b60e036bc19c5b36805168e64db0b72d);
        
    
        var popup_2c52e4846ab6d668bf0ff9c722178c00 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_58ee1e4a8fd36c36aa0137ac8f7b34e3 = $(`&lt;div id=&quot;html_58ee1e4a8fd36c36aa0137ac8f7b34e3&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;&gt;Buoy ID: 3&lt;br&gt;Battery: 70&lt;br&gt;Drop Time: 2025-02-17 14:15:00+00:00&lt;/div&gt;`)[0];
                popup_2c52e4846ab6d668bf0ff9c722178c00.setContent(html_58ee1e4a8fd36c36aa0137ac8f7b34e3);
            
        

        marker_5938ca93d3f8ad3843aeb6ba472e75a2.bindPopup(popup_2c52e4846ab6d668bf0ff9c722178c00)
        ;

        
    
    
            marker_5938ca93d3f8ad3843aeb6ba472e75a2.bindTooltip(
                `&lt;div&gt;
                     Click for details
                 &lt;/div&gt;`,
                {
  &quot;sticky&quot;: true,
}
            );
        
&lt;/script&gt;
&lt;/html&gt;" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>